<template>
    <lightning-layout multiple-rows="true">
        <lightning-layout-item size="12">
            <lightning-layout multiple-rows="false">
                <lightning-layout-item>
                    <lightning-input name="username" disabled value={selectedMemberName}
                                     label="Selected Member"></lightning-input>
                </lightning-layout-item>
                <lightning-layout-item class="button-align-bottom">
                    <lightning-button class="slds-m-left_x-small"
                                      variant="neutral"
                                      label="Select"
                                      title="Select"
                                      onclick={toggleMemberSelect}>
                    </lightning-button>
                </lightning-layout-item>
            </lightning-layout>
        </lightning-layout-item>
        <lightning-layout-item size="12">
            <template if:true={showMemberSelect}>
                <lightning-layout vertical-align="end">
                    <lightning-layout-item flexibility="grow">
                        <lightning-combobox label={label.Search} name="mdtype" onchange={handleTypeChange}
                                            options={objectTypes}
                                            value={selectedType}></lightning-combobox>
                    </lightning-layout-item>
                    <lightning-layout-item class="slds-p-left--small" flexibility="grow">
                        <lightning-input type="search" label={label.For} name="search" onchange={searchEventHandler}
                                         onkeyup={listenForEnter} disabled={searchDisabled}></lightning-input>
                    </lightning-layout-item>

                    <lightning-layout-item class="slds-p-left--small" flexibility="none">
                        <lightning-button type="submit" label="Search" variant="brand" onclick={actuallySearch}
                                          disabled={searchDisabled}></lightning-button>
                    </lightning-layout-item>
                </lightning-layout>
                <div class="slds-p-top--small">
                    <template if:true={tooManyResults}>
                        <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_warning"
                             role="alert">
                            <h2> {label.TooManyResultsMessage} </h2>
                        </div>
                    </template>
                    <template if:true={isTableVisible}>
                        <lightning-datatable data={searchResults} columns={columns} key-field="value"
                                             hide-checkbox-column="true"
                                             onrowaction={handleRowAction} resize-column-disabled></lightning-datatable>
                    </template>
                    <template if:true={isNoSearchResultsMessageVisible}>
                        {label.NoSearchResultsMessage}
                    </template>
                </div>
            </template>
        </lightning-layout-item>
        <lightning-layout-item class="slds-p-top--small" size="12">
            <lightning-layout multiple-rows="true">
                <lightning-layout-item class="slds-p-top--small" size="8">
                    <template if:true={showNotifyAssignee}>
                        <lightning-input type="checkbox" label={notifyAssigneeLabel} name="NotifyAssignee"
                                         onchange={handleNotifyAssigneeChange}
                                         value={notifyAssignee}></lightning-input>
                    </template>
                </lightning-layout-item>
                <lightning-layout-item size="4">

                </lightning-layout-item>
            </lightning-layout>
        </lightning-layout-item>
    </lightning-layout>
</template>